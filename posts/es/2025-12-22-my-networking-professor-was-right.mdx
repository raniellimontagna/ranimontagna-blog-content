---
title: Mi profesor de Redes tenÃ­a razÃ³n (y tardÃ© 5 aÃ±os en darme cuenta)
date: '2025-12-22'
description: >-
  De la clase de Redes ignorada en la universidad al servidor casero: cÃ³mo
  organicÃ© mi red domÃ©stica con Pi-hole, Proxmox y VPN.
tags:
  - homelab
  - redes
  - proxmox
  - pihole
  - self-hosting
published: true
coverImage: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=1200&q=80'
---
En la universidad, lo confieso: las clases de Redes de Computadoras eran aquellas a las que menos atenciÃ³n prestaba. IP, mÃ¡scara de subred, DNS... "Esto es cosa de infraestructura, un desarrollador no necesita saber esto", pensaba yo.

AÃ±os despuÃ©s, aquÃ­ estoy yo â€” con un servidor funcionando en casa, gestionando IPs como si fuera lo mÃ¡s natural del mundo.

---

## Â¿QuÃ© me hizo cambiar de idea?

Todo comenzÃ³ cuando la cantidad de dispositivos en casa explotÃ³. Computadora, notebook, celulares, TV, lÃ¡mparas inteligentes, Echo Dots, aire acondicionado... de repente tenÃ­a decenas de cosas conectadas y ningÃºn control sobre nada.

QuerÃ­a acceder a archivos del PC desde el celular, controlar la casa desde cualquier lugar, y entender por quÃ© mi internet parecÃ­a lenta incluso con una buena conexiÃ³n. Â¿La respuesta? Un desorden de dispositivos compitiendo por ancho de banda sin ninguna organizaciÃ³n.

Fue entonces cuando decidÃ­: **voy a organizar esta red**.

---

## La Arquitectura General

DespuÃ©s de mucho estudio y experimentaciÃ³n, lleguÃ© a esta estructura:

![Diagrama de la red domÃ©stica](https://br-se1.magaluobjects.com/ranimontagna-blog-images/blog-content/0c6fa0cd-12d9-440b-88d4-ce52d6345e59.webp)

**SegmentaciÃ³n por funciÃ³n:**
- `.2 - .19` â†’ Infraestructura (servidores, DNS, automatizaciÃ³n)
- `.20 - .29` â†’ Personas (PCs, celulares, TV)
- `.50 - .59` â†’ IoT Hubs (Echo Dots, aire acondicionado)
- `.60 - .99` â†’ IoT Puntas (lÃ¡mparas, smart plugs)
- `.100+` â†’ DHCP para visitantes

Â¿Parece exagerado? QuizÃ¡s. Pero cuando algo da problema, sÃ© **exactamente** dÃ³nde buscar. Y mÃ¡s importante: consigo configurar reglas especÃ­ficas para cada "tipo" de dispositivo.

---

## DNS: El corazÃ³n invisible de internet

AquÃ­ necesito hacer una pausa para explicar algo que ignoraba completamente: **DNS**.

Cada vez que escribes "google.com" en el navegador, tu computadora no tiene idea de lo que es eso. Necesita preguntar a un servidor DNS: "Oye, Â¿cuÃ¡l es la IP de ese tal google.com?". El servidor responde algo como "142.250.79.14", y ahÃ­ sÃ­ la conexiÃ³n sucede.

Esto ocurre **cientos de veces al dÃ­a** â€” no solo cuando navegas, sino cuando las apps verifican actualizaciones, cuando tu celular "llama a casa", cuando la TV smart carga anuncios...

Y es exactamente aquÃ­ donde entra la magia.

---

## Pi-hole: AdiÃ³s, anuncios

El **Pi-hole** es un servidor DNS que se ejecuta en tu red local. Toda solicitud DNS pasa por Ã©l antes de ir a internet. Y la clave es simple: tiene una lista gigante de dominios conocidos por servir anuncios y rastreadores.

Cuando alguien en la red intenta acceder a `ads.facebook.com` o `tracking.google-analytics.com`, el Pi-hole simplemente... no responde. El anuncio no carga. El rastreador no funciona.

Esto significa: YouTube con menos anuncios, apps sin banners invasivos, y smartphones que dejan de "llamar a casa" cada 5 minutos.

Y como backup, uso el DNS pÃºblico de Cloudflare (1.1.1.1) â€” si el Pi-hole cae, internet sigue funcionando.

---

## Proxmox: Un computador, varios sistemas

Ahora la pregunta: Â¿dÃ³nde se ejecuta todo esto?

En lugar de tener 5 computadoras diferentes consumiendo energÃ­a y espacio, tengo **un Ãºnico servidor** con Proxmox VE. Es un sistema operativo de virtualizaciÃ³n que permite crear **containers LXC** y **mÃ¡quinas virtuales** que se ejecutan de forma completamente aislada.

Piensa asÃ­: es como tener varias computadoras dentro de una sola, cada una haciendo su trabajo sin interferir con las otras.

**Lo que se ejecuta en mi Proxmox:**

| Servicio | FunciÃ³n |
|---------|--------|
| ğŸ“ **Nextcloud** | Mi propio "Google Drive" â€” archivos sincronizados entre todos los dispositivos |
| ğŸ  **Home Assistant** | AutomatizaciÃ³n del hogar â€” controlo luces, aire acondicionado, y monitoreo sensores |
| ğŸ¬ **Jellyfin** | Netflix personal â€” mi biblioteca de medios accesible desde cualquier lugar |
| ğŸ”’ **Pi-hole DNS** | Bloqueo de anuncios en red |
| ğŸ”„ **Node-RED** | Automatizaciones visuales â€” integro servicios de forma fÃ¡cil |

Si un servicio da problema, reinicio solo ese. Si quiero probar algo nuevo, creo un container, lo pruebo, y lo elimino si no me gusta. **Cero riesgo para el resto del sistema.**

---

## VPN: Acceso desde cualquier lugar

Una de las funcionalidades que mÃ¡s uso es el acceso remoto vÃ­a **OpenVPN**. Con ella, incluso estando fuera de casa (en el trabajo, viajando, en cualquier lugar), consigo acceder a mi red local como si estuviera allÃ­.

Esto significa: acceder a mis archivos en Nextcloud, controlar la casa con Home Assistant, o depurar algo en el servidor â€” todo de forma segura, cifrada.

---

## Â¿QuÃ© aprendÃ­ con todo esto?

1. **Las redes no son solo teorÃ­a** â€” entender cÃ³mo fluye tu trÃ¡fico cambia completamente tu perspectiva sobre el desarrollo
2. **Self-hosting es empoderador** â€” controlas tus datos, no dependes de servicios de terceros
3. **No se necesita hardware caro** â€” un PC usado o un mini PC funciona perfectamente
4. **La documentaciÃ³n es vida** â€” ese diagrama de red ahorra horas de depuraciÃ³n
5. **Seguridad en capas** â€” DNS bloqueando rastreadores, VPN cifrando acceso, red segmentada

Si tÃº tambiÃ©n dormÃ­as en las clases de Redes... quizÃ¡s sea hora de despertar. ğŸ˜‰

---

*Â¿Y tÃº, tienes algÃºn proyecto de homelab o idea para organizar mejor tu red? Â¿O la mÃ­a? Â¡LlÃ¡mame y charlamos!*
